:root {
  --bg: #ffffff;
  --text: #0f172a;
  --muted: #64748b;
  --border: #e2e8f0;
  --accent: #111827;
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, sans-serif; color: var(--text); background: var(--bg); }

.btn, button {
  border: 1px solid #0b1220;
  background: var(--accent);
  color: #fff;
  padding: 8px 12px;
  border-radius: 8px;
  cursor: pointer;
  transition: background 150ms ease, box-shadow 150ms ease, opacity 120ms ease;
}
.btn:hover, button:hover { background: #1f2937; box-shadow: 0 2px 10px rgba(2,6,23,0.15); }
.btn:disabled, button:disabled { opacity: .6; cursor: default; box-shadow: none; }

.wrap { max-width: 1100px; margin: 0 auto; padding: 24px; }
.wrap.narrow { max-width: 960px; }
.top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
.brand { font-weight: 700; letter-spacing: 0.3px; }
.actions { display: flex; gap: 8px; }
.actions button { background: var(--accent); color: #fff; border-color: #0b1220; }
.actions button:hover { background: #1f2937; }

.grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; align-items: start; }
.panel { border: 1px solid var(--border); border-radius: 12px; padding: 16px; background: #fff; }
.panel.preview { padding: 0; }
.muted-border { border-style: dashed; }

h2 { font-size: 16px; margin: 0 0 8px; }
h3 { font-size: 13px; margin: 12px 0 6px; color: var(--muted); font-weight: 600; letter-spacing: .2px; }

.two { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.field { display: grid; gap: 6px; margin: 8px 0; }
.field > span { font-size: 12px; color: var(--muted); }
.field input, .field textarea { width: 100%; border: 1px solid var(--border); border-radius: 8px; padding: 8px 10px; font: inherit; }
.field textarea { resize: none; }

.items { border-top: 1px solid var(--border); margin-top: 8px; }
.row { display: grid; grid-template-columns: 1fr 80px 120px 120px 80px; gap: 8px; align-items: center; padding: 8px 0; border-bottom: 1px solid var(--border); }
.row.head { color: var(--muted); font-size: 12px; }
.row .desc { width: 100%; border: none; background: transparent; outline: none; border: 1px solid var(--border); border-radius: 8px; padding: 8px 10px; }
.row .num { text-align: right; }
.row .amt { font-variant-numeric: tabular-nums; }
.actions-line { padding: 8px 0; }
.actions-line button { border: 1px solid #0b1220; background: var(--accent); color: #fff; border-radius: 8px; padding: 6px 10px; cursor: pointer; }
.row button.muted { border: 1px solid var(--border); background: #fff; color: #b91c1c; border-radius: 8px; padding: 6px 10px; cursor: pointer; }
.totals { margin-top: 12px; display: grid; gap: 6px; max-width: 500px; margin-left: auto; }
.totals > div { display: flex; justify-content: space-between; align-items: center; }
.totals .grand { font-weight: 700; }

/* Preview */
.invoice { padding: 24px; }
.invoice-top { display: flex; justify-content: space-between; gap: 12px; }
.invoice-brand { display: flex; gap: 12px; align-items: center; }
.invoice-logo { width: 64px; height: 64px; object-fit: contain; border-radius: 8px; border: 1px solid var(--border); background: #fff; }
.title { font-size: 24px; font-weight: 700; }
.muted { color: var(--muted); }
.small { font-size: 12px; }
.align-right { text-align: right; }
.invoice-meta { display: flex; justify-content: space-between; margin: 12px 0 16px; }
.pay-block { display: grid; gap: 6px; justify-items: end; }
.qr { width: 120px; height: 120px; border: 1px solid var(--border); border-radius: 8px; background: #fff; display: grid; place-items: center; overflow: hidden; }
.qr img { width: 100%; height: 100%; object-fit: contain; }
.label { color: var(--muted); font-size: 12px; margin-right: 8px; }
.badge { display: inline-block; padding: 2px 8px; border-radius: 999px; font-size: 12px; border: 1px solid var(--border); }
.badge.paid { background: #16a34a10; color: #166534; border-color: #16a34a55; }
.badge.overdue { background: #ef444410; color: #991b1b; border-color: #ef444455; }
.table { width: 100%; border-collapse: collapse; }
.table th, .table td { border-bottom: 1px solid var(--border); padding: 10px 0; text-align: left; }
.table th.num, .table td.num { text-align: right; }
.totals-view { display: grid; }
.totals-view .right { margin-left: auto; width: 300px; display: grid; gap: 6px; }
.totals-view .right > div { display: flex; justify-content: space-between; }
.totals-view .grand { font-weight: 700; }
.notes { margin-top: 16px; }

/* Modal */
.modal-backdrop { position: fixed; inset: 0; background: rgba(15,23,42,0.4); display: grid; place-items: center; z-index: 20; }
.modal { width: 720px; max-width: 96vw; background: #fff; border: 1px solid var(--border); border-radius: 12px; padding: 16px; }
.modal h3 { margin-top: 0; }
.modal .list { max-height: 50vh; overflow: auto; border: 1px solid var(--border); border-radius: 8px; }
.modal .row { display: grid; grid-template-columns: 1fr auto auto; gap: 8px; padding: 8px 12px; border-bottom: 1px solid var(--border); }
.modal .row:last-child { border-bottom: 0; }
.modal .row .muted { font-size: 12px; }

/* Legal footer */
.legal { margin: 16px 0; color: var(--muted); font-size: 12px; text-align: center; }
.link-btn { background: none; border: none; color: var(--accent); cursor: pointer; padding: 0; }
.link-btn:hover { text-decoration: underline; }

/* Ad placeholders removed: Google auto-inserts ads */

/* Print: hide form, keep preview full width */
@media print {
  .hide-on-print, .top { display: none !important; }
  .grid { display: block; }
  .panel.preview { border: none; }
  .invoice { padding: 0; }
  /* Let the browser handle margins; headers/footers can be disabled in the print dialog */
}

/* Responsive tweaks */
@media (max-width: 980px) {
  .grid { grid-template-columns: 1fr; }
  .row { grid-template-columns: 1fr 1fr 1fr auto; }
}
